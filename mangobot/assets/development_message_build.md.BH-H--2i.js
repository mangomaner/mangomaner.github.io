import{_ as i,c as a,o as e,ah as n}from"./chunks/framework.Dmhv7SaG.js";const o=JSON.parse('{"title":"消息构建","description":"","frontmatter":{},"headers":[],"relativePath":"development/message_build.md","filePath":"development/message_build.md"}'),t={name:"development/message_build.md"};function l(h,s,p,k,r,g){return e(),a("div",null,[...s[0]||(s[0]=[n(`<h1 id="消息构建" tabindex="-1">消息构建 <a class="header-anchor" href="#消息构建" aria-label="Permalink to “消息构建”">​</a></h1><h2 id="消息段" tabindex="-1">消息段 <a class="header-anchor" href="#消息段" aria-label="Permalink to “消息段”">​</a></h2><p>消息段是 OneBot 协议中消息的基本组成单位，包含文本、图片、表情、回复、视频、语音、文件等，详情参考 <a href="https://283375.github.io/onebot_v11_vitepress/message/segment.html" target="_blank" rel="noreferrer">OneBot 文档</a>。</p><p>在本项目中，消息段被封装为 <code>Segment</code> 类，位于 <code>io.github.mangomaner.mangobot.model.onebot.message.Segment</code> 中。</p><h3 id="常见消息段类型" tabindex="-1">常见消息段类型 <a class="header-anchor" href="#常见消息段类型" aria-label="Permalink to “常见消息段类型”">​</a></h3><ul><li><strong>TextSegment</strong> - 文本消息段</li><li><strong>AtSegment</strong> - @某人消息段</li><li><strong>ImageSegment</strong> - 图片消息段</li><li><strong>FaceSegment</strong> - 表情消息段</li><li><strong>ReplySegment</strong> - 回复消息段</li><li><strong>VideoSegment</strong> - 视频消息段</li><li><strong>RecordSegment</strong> - 语音消息段</li><li><strong>FileSegment</strong> - 文件消息段</li></ul><h2 id="messagebuilder" tabindex="-1">MessageBuilder <a class="header-anchor" href="#messagebuilder" aria-label="Permalink to “MessageBuilder”">​</a></h2><p><code>MessageBuilder</code> 提供了便捷的方法来构建消息段列表。</p><p><strong>示例：</strong></p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> io.github.mangomaner.mangobot.onebot.MessageBuilder;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 构建包含文本、@、图片的消息</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">SendMessage message </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> MessageBuilder</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">addText</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Hello &quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">addAt</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">123456789L</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">addText</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot; check this out: &quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">addImage</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;https://example.com/image.png&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">build</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 发送</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">oneBotApiService.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sendGroupMsg</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(botId, groupId, message);</span></span></code></pre></div>`,10)])])}const E=i(t,[["render",l]]);export{o as __pageData,E as default};
